name = "awfixer-blog"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# OpenNext generates the worker file during build
main = ".open-next/worker.js"

# Assets configuration
[site]
bucket = ".open-next/assets"

# Observability (optional but recommended)
observability = { enabled = true }

# Environment variables
# Add your environment variables here or use wrangler secrets for sensitive data
# See: https://developers.cloudflare.com/workers/configuration/environment-variables/
[vars]
# NEXT_PUBLIC_SANITY_PROJECT_ID = "your-project-id"
# NEXT_PUBLIC_SANITY_DATASET = "production"

# For production environment variables, use:
# wrangler secret put SANITY_API_TOKEN

# Build configuration
[build]
command = "pnpm run build"

# For local development
[dev]
port = 3000

# NOTE: For Sanity CMS integration, you may need to configure:
# - CORS settings in Sanity.io dashboard
# - Environment variables for API tokens
# - Image optimization settings for cdn.sanity.io domains
